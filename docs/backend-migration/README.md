# Firebase â†’ Spring Boot ë°±ì—”ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ì „ ê°€ì´ë“œ

SOI ì•±ì˜ Firebase ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¥¼ Spring Boot REST API ë°±ì—”ë“œë¡œ ì „í™˜í•˜ëŠ” ì™„ì „í•œ ì‹¤ì „ ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ¯ í•œëˆˆì— ë³´ê¸°

**í˜„ì¬**: Flutter â†’ Firebase SDK â†’ Firestore (ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼)  
**ë³€ê²½**: Flutter â†’ REST API â†’ Spring Boot â†’ Database (ìš”ì²­/ì‘ë‹µ)

### í•µì‹¬ ë³€í™”

- âœ… **í”„ë¡ íŠ¸ì—”ë“œ**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ 90% ì œê±°, UIì—ë§Œ ì§‘ì¤‘
- âœ… **ë°±ì—”ë“œ**: ëª¨ë“  ë¡œì§ ì¤‘ì•™í™”, ë³´ì•ˆ ê°•í™”
- âœ… **ìë™í™”**: OpenAPIë¡œ API í´ë¼ì´ì–¸íŠ¸ ìë™ ìƒì„±
- âš ï¸ **íŠ¸ë ˆì´ë“œì˜¤í”„**: ì‹¤ì‹œê°„ì„± ê°ì†Œ (polling/FCMìœ¼ë¡œ ëŒ€ì²´)

---

## ğŸ“– ë¬¸ì„œ êµ¬ì„±

### [1. main.dart ìˆ˜ì • ê°€ì´ë“œ](./01-main-dart-setup.md) âœ…

**ë‚´ìš©:**

- í˜„ì¬ main.dart êµ¬ì¡° ë¶„ì„ (15 Controllers, Firebase ì´ˆê¸°í™”)
- EnvironmentConfig ì„¤ì • (dev/staging/prod)
- ApiConfig + Dio ì¸í„°ì…‰í„° (Auth, Error, Logging)
- ìˆ˜ì •ëœ main.dart (API í´ë¼ì´ì–¸íŠ¸ DI)
- Controller ìˆ˜ì • ì˜ˆì‹œ (Stream â†’ Future)
- VSCode launch.json ì„¤ì •
- pubspec.yaml ë³€ê²½ì‚¬í•­
- ì‹¤í–‰ ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

**ì½ì–´ì•¼ í•˜ëŠ” ì‚¬ëŒ:** í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì (í•„ìˆ˜)

---

### [2. Firebase â†’ Spring Boot ë§ˆì´ê·¸ë ˆì´ì…˜](./02-firebase-to-springboot.md) âœ…

**ë‚´ìš©:**

- 4ë‹¨ê³„ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ
- ì™„ì „í•œ Spring Boot í”„ë¡œì íŠ¸ êµ¬ì¡°
- Category ë„ë©”ì¸ ì „ì²´ êµ¬í˜„ (Entity, DTO, Repository, Service, Controller)
- OpenAPI ì• ë…¸í…Œì´ì…˜ ì˜ˆì‹œ
- Firestore â†’ PostgreSQL ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
- build.gradle ì„¤ì •

**ì½ì–´ì•¼ í•˜ëŠ” ì‚¬ëŒ:** ë°±ì—”ë“œ ê°œë°œì (í•„ìˆ˜), í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì (ì°¸ê³ )

---

### [3. ì•„í‚¤í…ì²˜ ë¹„êµ](./03-architecture-comparison.md) âœ…

**ë‚´ìš©:**

- Firebase vs Spring Boot ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨
- Category ë„ë©”ì¸ ìƒì„¸ ë¹„êµ (ë°ì´í„° ì €ì¥, ì¡°íšŒ, ë©¤ë²„ ì¶”ê°€)
- ì‹¤ì œ ì½”ë“œ Before/After (150ì¤„ â†’ 30ì¤„)
- ì„±ëŠ¥ ë¹„êµ (3850ms â†’ 250ms, 15ë°° ê°œì„ )
- ë¹„ìš© ë¹„êµ ($2,530/ì›” â†’ $240/ì›”, 90% ì ˆê°)
- ë³´ì•ˆ ë¹„êµ (Security Rules vs Spring Security)
- ìœ ì§€ë³´ìˆ˜ì„± ë¹„êµ

**ì½ì–´ì•¼ í•˜ëŠ” ì‚¬ëŒ:** ì „ì²´ íŒ€ (ì´í•´ë¥¼ ìœ„í•´ í•„ìˆ˜)

---

### [4. ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ ì—­í•  ë¶„ë¦¬](./04-responsibility-division.md) âœ…

**ë‚´ìš©:**

- ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ ì±…ì„ í‘œ
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì´ê´€ ì˜ˆì‹œ (ì¹œêµ¬ í™•ì¸, ì‚¬ì§„ ì—…ë¡œë“œ)
- ë°ì´í„° ê²€ì¦ ë¶„ë¦¬ (í´ë¼ì´ì–¸íŠ¸ vs ì„œë²„)
- ë³´ì•ˆ ì—­í•  (ì¸ì¦/ê¶Œí•œ)
- ë³µì¡ë„ ë¹„êµ (Firebase 5íšŒ í˜¸ì¶œ â†’ API 1íšŒ í˜¸ì¶œ)
- "ì–´ë””ì— êµ¬í˜„í• ê¹Œ?" ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì½ì–´ì•¼ í•˜ëŠ” ì‚¬ëŒ:** ì „ì²´ íŒ€ (í˜‘ì—… ê°€ì´ë“œ)

---

### [5. Flutter í”„ë¡œì íŠ¸ êµ¬ì¡° ë³€ê²½](./05-flutter-structure-changes.md) âœ…

**ë‚´ìš©:**

- ì „ì²´ êµ¬ì¡° Before/After
- íŒŒì¼ë³„ ìƒì„¸ ë³€ê²½ (main.dart, Controllers, Services, Repositories, Models)
- íŒŒì¼ ìˆ˜ ë³€í™” (60ê°œ â†’ 35ê°œ + ìë™ ìƒì„±)
- pubspec.yaml ë³€ê²½ì‚¬í•­ (Firebase â†’ Dio + soi_api)
- ë§ˆì´ê·¸ë ˆì´ì…˜ ë‹¨ê³„ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸
- ë„ë©”ì¸ë³„ ìš°ì„ ìˆœìœ„ (Auth â†’ Category â†’ Photo)
- Category ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤ì „ ì˜ˆì‹œ (620ì¤„ â†’ 140ì¤„, 77% ê°ì†Œ)

**ì½ì–´ì•¼ í•˜ëŠ” ì‚¬ëŒ:** í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì (í•„ìˆ˜)

---

### [6. OpenAPI/Swagger ìë™í™” ì™„ì „ ê°€ì´ë“œ](./06-openapi-automation.md) âœ…

**ë‚´ìš©:**

- Spring Boot OpenAPI ì„¤ì • (Springdoc, @Operation ì• ë…¸í…Œì´ì…˜)
- OpenAPI ìŠ¤í™ ìƒì„± ë° ë‹¤ìš´ë¡œë“œ
- OpenAPI Generator ì„¤ì¹˜ ë° ì„¤ì •
- Makefile ìë™í™” (`make generate-api`, `make update-api`)
- ìƒì„±ëœ API ì‚¬ìš© ì˜ˆì‹œ (CategoryApi, PhotoApi)
- CI/CD ìë™í™” (GitHub Actions)
- SOI í”„ë¡œì íŠ¸ ì ìš© ì‹œë‚˜ë¦¬ì˜¤
- íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

**ì½ì–´ì•¼ í•˜ëŠ” ì‚¬ëŒ:** ì „ì²´ íŒ€ (í•µì‹¬ ìë™í™”)

---

### [7. ê°œë°œ ì›Œí¬í”Œë¡œìš° ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤](./07-development-workflow.md) âœ…

**ë‚´ìš©:**

- ì‹œë‚˜ë¦¬ì˜¤ 1: ìƒˆë¡œìš´ API ì¶”ê°€ (ì‚¬ì§„ ì¢‹ì•„ìš” ê¸°ëŠ¥)
  - ë°±ì—”ë“œ: Entity, DTO, Repository, Service, Controller, ë°°í¬
  - í”„ë¡ íŠ¸ì—”ë“œ: `make update-api`, Repository, Controller, UI
- ì‹œë‚˜ë¦¬ì˜¤ 2: ê¸°ì¡´ API ìˆ˜ì • (ë©¤ë²„ í”„ë¡œí•„ ì´ë¯¸ì§€ ì¶”ê°€)
- ì‹œë‚˜ë¦¬ì˜¤ 3: ì—ëŸ¬ ì²˜ë¦¬ (ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€)
- íƒ€ì„ë¼ì¸ ì˜ˆì‹œ (2ì¼ ì™„ë£Œ)
- ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ í…œí”Œë¦¿

**ì½ì–´ì•¼ í•˜ëŠ” ì‚¬ëŒ:** ì „ì²´ íŒ€ (í˜‘ì—… í•„ìˆ˜)

---

### [8. ê°œë°œ í™˜ê²½ ì„¤ì • ê°€ì´ë“œ](./08-environment-setup.md) âœ…

**ë‚´ìš©:**

- í™˜ê²½ êµ¬ì„± ì „ëµ (Dev ì„œë²„ 90%, Mock 5%, ë¡œì»¬ Docker 5%)
- Dev ì„œë²„ í™˜ê²½ (ê¶Œì¥, ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”)
- Mock ì„œë²„ (Prism) ì‚¬ìš©ë²•
- ë¡œì»¬ Docker í™˜ê²½ (docker-compose.yml, Dockerfile)
- ì¸ì¦ í† í° ê´€ë¦¬ (í…ŒìŠ¤íŠ¸ ê³„ì •, ìë™ ë¡œê·¸ì¸)
- í™˜ê²½ë³„ ë¹„êµ í‘œ
- ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ë³„ í™˜ê²½ ì„ íƒ
- Makefile ëª…ë ¹ì–´ ëª¨ìŒ
- ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

**ì½ì–´ì•¼ í•˜ëŠ” ì‚¬ëŒ:** í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì (í•„ìˆ˜)

---

## ğŸ¯ ë§ˆì´ê·¸ë ˆì´ì…˜ ëª©í‘œ

### ë‹¬ì„±í•˜ë ¤ëŠ” ê²ƒ

- âœ… ë°±ì—”ë“œ ë¡œì§ ì¤‘ì•™í™” (ë³´ì•ˆ, ê²€ì¦, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
- âœ… í”„ë¡ íŠ¸ì—”ë“œ ë‹¨ìˆœí™” (UI/UXì—ë§Œ ì§‘ì¤‘)
- âœ… API ìë™í™” (OpenAPI Generator)
- âœ… í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜

### í¬ê¸°í•˜ëŠ” ê²ƒ

- âš ï¸ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ (ëŒ€ì‹  polling/FCM ì‚¬ìš©)
- âš ï¸ Firebase ìë™ ì˜¤í”„ë¼ì¸ ì§€ì› (í•„ìš”ì‹œ ìˆ˜ë™ êµ¬í˜„)
- âš ï¸ í´ë¼ì´ì–¸íŠ¸ ì§ì ‘ DB ì ‘ê·¼

---

## ğŸ“Š í˜„ì¬ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
lib/
â”œâ”€â”€ main.dart                  # ì•± ì§„ì…ì 
â”œâ”€â”€ controllers/              # 15ê°œ - ChangeNotifier ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ auth_controller.dart
â”‚   â”œâ”€â”€ category_controller.dart
â”‚   â”œâ”€â”€ friend_controller.dart
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/                 # 17ê°œ - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ auth_service.dart
â”‚   â”œâ”€â”€ category_service.dart
â”‚   â”œâ”€â”€ friend_service.dart
â”‚   â””â”€â”€ ...
â”œâ”€â”€ repositories/             # 12ê°œ - Firebase ì§ì ‘ ì ‘ê·¼
â”‚   â”œâ”€â”€ auth_repository.dart
â”‚   â”œâ”€â”€ category_repository.dart
â”‚   â”œâ”€â”€ friend_repository.dart
â”‚   â””â”€â”€ ...
â”œâ”€â”€ models/                   # 14ê°œ - ë°ì´í„° ëª¨ë¸
â”‚   â”œâ”€â”€ category_data_model.dart
â”‚   â”œâ”€â”€ friend_model.dart
â”‚   â””â”€â”€ ...
â””â”€â”€ views/                    # UI ì»´í¬ë„ŒíŠ¸
    â”œâ”€â”€ about_archiving/
    â”œâ”€â”€ about_camera/
    â”œâ”€â”€ about_friends/
    â””â”€â”€ ...
```

---

## ğŸ”„ ë³€ê²½ë  êµ¬ì¡°

```
lib/
â”œâ”€â”€ main.dart                  # âœï¸ ìˆ˜ì • - API í´ë¼ì´ì–¸íŠ¸ DI
â”œâ”€â”€ config/                    # ğŸ†• ìƒˆë¡œ ì¶”ê°€
â”‚   â”œâ”€â”€ environment.dart      # í™˜ê²½ ì„¤ì •
â”‚   â””â”€â”€ api_config.dart       # API URL ê´€ë¦¬
â”œâ”€â”€ api/                       # ğŸ†• ìƒˆë¡œ ì¶”ê°€ (ìë™ ìƒì„±)
â”‚   â””â”€â”€ generated/            # OpenAPI Generator ì¶œë ¥
â”‚       â”œâ”€â”€ lib/
â”‚       â”‚   â”œâ”€â”€ api/          # CategoryApi, FriendApi ë“±
â”‚       â”‚   â””â”€â”€ model/        # DTO ëª¨ë¸ë“¤
â”‚       â””â”€â”€ pubspec.yaml
â”œâ”€â”€ controllers/               # âœï¸ ìˆ˜ì • - Stream â†’ Future
â”‚   â”œâ”€â”€ auth_controller.dart
â”‚   â”œâ”€â”€ category_controller.dart
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/                  # âœï¸ ëŒ€í­ ê°„ì†Œí™” - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì œê±°
â”‚   â”œâ”€â”€ auth_service.dart
â”‚   â”œâ”€â”€ category_service.dart
â”‚   â””â”€â”€ ...
â”œâ”€â”€ repositories/              # âœï¸ ìˆ˜ì • - Firebase â†’ API í˜¸ì¶œ
â”‚   â”œâ”€â”€ auth_repository.dart
â”‚   â”œâ”€â”€ category_repository.dart
â”‚   â””â”€â”€ ...
â”œâ”€â”€ models/                    # âœ… ê±°ì˜ ê·¸ëŒ€ë¡œ (ì¼ë¶€ DTO ì¶”ê°€)
â”‚   â”œâ”€â”€ category_data_model.dart
â”‚   â””â”€â”€ ...
â””â”€â”€ views/                     # âœï¸ ìˆ˜ì • - StreamBuilder â†’ Consumer
    â””â”€â”€ ...
```

---

## â±ï¸ ì˜ˆìƒ ë§ˆì´ê·¸ë ˆì´ì…˜ ì¼ì •

### Phase 1: ë°±ì—”ë“œ êµ¬ì¶• (2-3ì£¼)

- Spring Boot í”„ë¡œì íŠ¸ ìƒì„±
- Entity ë° Repository êµ¬í˜„
- Service ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- REST API Controller
- OpenAPI ìŠ¤í™ ìƒì„±

### Phase 2: Flutter ì¤€ë¹„ (1-2ì£¼)

- API í´ë¼ì´ì–¸íŠ¸ ë ˆì´ì–´ ì¶”ê°€
- í™˜ê²½ ì„¤ì •
- Repository ìˆ˜ì •
- Service ê°„ì†Œí™”

### Phase 3: ì ì§„ì  ì „í™˜ (2-3ì£¼)

- ì½ê¸° ê¸°ëŠ¥ë¶€í„° ì‹œì‘
- StreamBuilder â†’ Consumer ì „í™˜
- ì“°ê¸° ê¸°ëŠ¥
- ì´ˆëŒ€ ì‹œìŠ¤í…œ

### Phase 4: ìµœì í™” (1ì£¼)

- ìºì‹± ì¶”ê°€
- ì„±ëŠ¥ ê°œì„ 
- ë²„ê·¸ ìˆ˜ì •

**ì´ ì˜ˆìƒ ê¸°ê°„**: 6-9ì£¼

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ë¬¸ì„œ ìˆœì„œëŒ€ë¡œ ì½ê¸°

```bash
# 1. main.dart ìˆ˜ì • ë°©ë²• í™•ì¸
open 01-main-dart-setup.md

# 2. ì „ì²´ ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš ì´í•´
open 02-firebase-to-springboot.md

# 3. ì‹¤ì œ ì½”ë“œ ë¹„êµ
open 03-architecture-comparison.md

# ... ìˆœì„œëŒ€ë¡œ ì§„í–‰
```

### 2. ë°±ì—”ë“œ íŒ€ê³¼ í˜‘ì˜

- ê°œë°œ ì„œë²„ URL ê³µìœ 
- OpenAPI ì—”ë“œí¬ì¸íŠ¸ í™•ì¸
- Docker Compose íŒŒì¼ ìš”ì²­

### 3. í™˜ê²½ ì„¤ì •

```bash
# OpenAPI Generator ì„¤ì¹˜
brew install openapi-generator

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
```

### 4. ì²« ë²ˆì§¸ API í…ŒìŠ¤íŠ¸

```bash
# OpenAPI ìŠ¤í™ ë‹¤ìš´ë¡œë“œ
curl https://dev-api.soi.app/v3/api-docs.yaml -o openapi.yaml

# Flutter í´ë¼ì´ì–¸íŠ¸ ìƒì„±
openapi-generator generate -i openapi.yaml -g dart-dio -o lib/api/generated

# ì•± ì‹¤í–‰ (Dev ì„œë²„ ì—°ê²°)
flutter run --dart-define=ENV=dev
```

---

## ğŸ’¡ ì£¼ìš” ê°œë…

### ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ëŒ€ì²´

- **ê¸°ì¡´**: Firebase Stream (ì‹¤ì‹œê°„)
- **ë³€ê²½**: Pull-to-refresh + FCM Push (ì•½ê°„ì˜ ì§€ì—° í—ˆìš©)
- **ì´ìœ **: ì‚¬ì§„ ê³µìœ  ì•± íŠ¹ì„±ìƒ ì¶©ë¶„í•¨

### ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìœ„ì¹˜

- **ê¸°ì¡´**: Flutter (í´ë¼ì´ì–¸íŠ¸)
- **ë³€ê²½**: Spring Boot (ì„œë²„)
- **ì˜ˆì‹œ**: ì¹œêµ¬ í™•ì¸, ì°¨ë‹¨ í•„í„°ë§, ê¶Œí•œ ê²€ì¦

### API í´ë¼ì´ì–¸íŠ¸ ìƒì„±

- **ê¸°ì¡´**: ìˆ˜ë™ ì‘ì„±
- **ë³€ê²½**: OpenAPI Generatorë¡œ ìë™ ìƒì„±
- **ì¥ì **: íƒ€ì… ì•ˆì •ì„±, ìë™ ë™ê¸°í™”

---

## ğŸ“ ë¬¸ì˜ ë° ê¸°ì—¬

### ì§ˆë¬¸ì´ ìˆìœ¼ì‹ ê°€ìš”?

- ê° ë¬¸ì„œì˜ "FAQ" ì„¹ì…˜ ì°¸ê³ 
- GitHub Issuesì— ì§ˆë¬¸ ë“±ë¡

### ê°œì„  ì œì•ˆ

- Pull Request í™˜ì˜
- ì‹¤ì œ ì ìš© ì‚¬ë¡€ ê³µìœ 

---

## ğŸ“ ë³€ê²½ ì´ë ¥

- 2025-10-21: ì´ˆì•ˆ ì‘ì„±
- ì¶”í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •

---

## ë‹¤ìŒ ë‹¨ê³„

ğŸ‘‰ **[1. main.dart ìˆ˜ì • ê°€ì´ë“œë¡œ ì´ë™](./01-main-dart-setup.md)**
